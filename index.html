<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>PDF Tutor</title>
    <link rel="stylesheet" href="styles.css">
    <link rel="stylesheet" href="summarizer-button/note-taking-button.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdf.js/3.11.174/pdf.min.js"></script>
</head>
<body>
    <div class="container">
        <!-- Modern Header -->
        <header class="modern-header">
            <div class="header-logo">
                <div class="logo-icon">üìö</div>
                <h1>PDF TUTOR</h1>
            </div>
            <nav class="header-nav">
                <a href="#upload-section" class="nav-link">Upload</a>
                <a href="#tools-section" class="nav-link">Tools</a>
            </nav>
            <div class="header-actions">
                <div class="user-profile">üë§</div>
            </div>
        </header>
        
        <!-- Main Content -->
        <main class="main-content">
            <div class="content-header">
                <h1 class="main-title">Guide you through every page</h1>
                <p class="main-subtitle">Upload your documents and start taking intelligent notes</p>
            </div>
            
            <!-- Upload Section -->
            <div class="upload-section" id="upload-section">
                <div class="upload-area" id="uploadArea">
                    <div class="upload-icon">
                        <svg width="64" height="64" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5">
                            <path d="M14 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V8z"></path>
                            <polyline points="14,2 14,8 20,8"></polyline>
                            <line x1="16" y1="13" x2="8" y2="13"></line>
                            <line x1="16" y1="17" x2="8" y2="17"></line>
                            <polyline points="10,9 9,9 8,9"></polyline>
                        </svg>
                    </div>
                    <h3>Drop your PDF here</h3>
                    <p>or <span class="browse-link">click to browse files</span></p>
                    <input type="file" id="fileInput" accept=".pdf">
                </div>
            </div>
            
            <!-- File List -->
            <div class="file-list" id="fileList">
                <!-- Uploaded files will appear here -->
            </div>
            
            <!-- Tools Section -->
            <div class="tools-section" id="tools-section">
                <h2>Available Tools</h2>
                <div class="tools-grid">
                    <div class="tool-card">
                        <div class="tool-icon">üìù</div>
                        <h3>Smart Notes</h3>
                        <p>Take intelligent notes with rich text editing and auto-save functionality</p>
                    </div>
                    <div class="tool-card">
                        <div class="tool-icon">üß†</div>
                        <h3>AI Quiz</h3>
                        <p>Test your knowledge with AI-generated questions from your PDF content</p>
                    </div>
                    <div class="tool-card">
                        <div class="tool-icon">üé¥</div>
                        <h3>Flashcards</h3>
                        <p>Create interactive flashcards for better learning and retention</p>
                    </div>
                    <div class="tool-card">
                        <div class="tool-icon">üñ®Ô∏è</div>
                        <h3>Print & Export</h3>
                        <p>Print your PDFs and export your notes in multiple formats</p>
                    </div>
                </div>
            </div>

        </main>
        
        <div class="status" id="status"></div>
    </div>
    
    <!-- PDF Viewer Section - Fullscreen (outside main container) -->
    <div class="pdf-viewer-fullscreen" id="pdfViewerSection" style="display: none;">
        <!-- Header Bar -->
        <div class="header-bar">
            <div class="header-logo">
                <div class="logo-icon">üìö</div>
                <h1>PDF TUTOR</h1>
            </div>
            <div class="header-actions">
                <button class="insert-new-doc-btn" id="insertNewDocBtn">üìÅ Insert New Doc</button>
                <button class="share-btn" id="shareBtn">Share</button>
                <div class="user-profile" id="userProfile">üë§</div>
            </div>
        </div>
        
        <!-- Main Layout: Split View -->
        <div class="main-layout">
            <!-- Left Panel: PDF Viewer -->
            <div class="left-panel">
                <!-- PDF Controls Area -->
                <div class="pdf-controls-area">
                    <div class="page-controls">
                        <button id="prevPage" class="btn btn-secondary page-nav-btn" title="Previous Page">‚Äπ</button>
                        <span id="pageInfo" class="page-info">
                            Page <span id="currentPageNum" class="current-page-clickable" title="Click to enter page number">1</span> of <span id="totalPagesNum">1</span>
                        </span>
                        <button id="nextPage" class="btn btn-secondary page-nav-btn" title="Next Page">‚Ä∫</button>
                    </div>
                    <div class="zoom-controls">
                        <button id="zoomOut" class="btn btn-secondary">-</button>
                        <span id="zoomLevel">100%</span>
                        <button id="zoomIn" class="btn btn-secondary">+</button>
                    </div>
                    <div class="tool-controls">
                        <div id="tool-controls-container"></div>
                    </div>
                </div>
                
                <!-- PDF Container -->
                <div class="pdf-container-fullscreen">
                    <canvas id="pdfCanvas"></canvas>
                </div>
            </div>
            
            <!-- Right Panel: Tools & Chat -->
            <div class="right-panel">
                <!-- Tool Navigation -->
                <div class="tool-navigation">
                    <div id="quiz-button-container"></div>
                    <div id="flashcard-button-container"></div>
                    <div id="diagram-button-container"></div>
                    <div id="resources-button-container"></div>
                </div>
                
                <!-- Tool Sidebars -->
                <!-- Quiz Sidebar -->
                <div class="tool-sidebar quiz-sidebar" id="quizSidebar">
                    <div class="sidebar-header">
                        <h3>üß† Quiz Me</h3>
                        <button class="sidebar-close-btn" id="close-quiz-sidebar">&times;</button>
                    </div>
                    <div class="sidebar-content" id="quizSidebarContent">
                        <!-- Quiz content will be populated here -->
                    </div>
                </div>
                
                <!-- Flashcards Sidebar -->
                <div class="tool-sidebar flashcards-sidebar" id="flashcardsSidebar">
                    <div class="sidebar-header">
                        <h3>üé¥ Flashcards</h3>
                        <button class="sidebar-close-btn" id="close-flashcards-sidebar">&times;</button>
                    </div>
                    <div class="sidebar-content" id="flashcardsSidebarContent">
                        <!-- Flashcards content will be populated here -->
                    </div>
                </div>
                
                <!-- Diagrams Sidebar -->
                <div class="tool-sidebar diagrams-sidebar" id="diagramsSidebar">
                    <div class="sidebar-header">
                        <h3>üìä Diagrams</h3>
                        <button class="sidebar-close-btn" id="close-diagrams-sidebar">&times;</button>
                    </div>
                    <div class="sidebar-content" id="diagramsSidebarContent">
                        <!-- Diagrams content will be populated here -->
                    </div>
                </div>
                
                <!-- Resources Sidebar -->
                <div class="tool-sidebar resources-sidebar" id="resourcesSidebar">
                    <div class="sidebar-header">
                        <h3>üìö More Resources</h3>
                        <button class="sidebar-close-btn" id="close-resources-sidebar">&times;</button>
                    </div>
                    <div class="sidebar-content" id="resourcesSidebarContent">
                        <!-- Resources content will be populated here -->
                    </div>
                </div>
                
                <!-- Notes Editor Area -->
                <div class="notes-area">
                    <!-- Sidebar Toggle Button -->
                    <button class="sidebar-toggle" id="sidebarToggle">
                        <span class="sidebar-icon">üìù</span>
                    </button>
                    
                    <!-- Sidebar for Saved Notes -->
                    <div class="notes-sidebar" id="notesSidebar">
                        <div class="sidebar-header">
                            <h4>Saved Notes</h4>
                            <button class="sidebar-close" id="sidebarClose">√ó</button>
                        </div>
                        <div class="saved-notes-list" id="savedNotesList">
                            <!-- Saved notes will be populated here -->
                        </div>
                    </div>
                    
                    <!-- Main Notes Content -->
                    <div class="notes-main-content">
                        <!-- Rounded Text Editor -->
                        <div class="notes-editor-container">
                            <div class="notes-editor" id="notesEditor" contenteditable="true" spellcheck="true">
                                <p>Start typing your notes here...</p>
                            </div>
                        </div>
                        
                        <!-- ChatGPT-style AI Search -->
                        <div class="ai-search-container">
                            <div class="ai-search-input-container">
                                <input type="text" id="aiSearchInput" class="ai-search-input" placeholder="Ask anything">
                            </div>
                            <div id="aiSearchResults" class="ai-search-results" style="display: none;"></div>
                        </div>
                        
                        <!-- Simple Actions -->
                        <div class="notes-actions">
                            <button class="action-btn" id="summarizeBtn" title="Summarize PDF">Summarize</button>
                            <button class="action-btn" id="exportNotesBtn" title="Export Notes">Export</button>
                            <button class="action-btn" id="clearNotesBtn" title="Clear Notes">Clear</button>
                            <button class="action-btn" id="saveNotesBtn" title="Save Notes">Save</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
            
            <!-- Comment Sidebar -->
            <div class="comment-sidebar" id="commentSidebar" style="display: none;">
                <div class="comment-header">
                    <h3>üí¨ Comments</h3>
                    <button id="toggle-comment-sidebar" class="comment-toggle-btn">Hide</button>
                </div>
                <div class="comment-list" id="commentList">
                    <div class="no-comments">
                        <p>No comments yet. Select text and right-click to add comments.</p>
                    </div>
                </div>
            </div>
            
            <!-- Context Menu for Comments -->
            <div class="context-menu" id="commentContextMenu" style="display: none;">
                <div class="context-menu-item" id="addCommentContext">
                    <span>üí¨ Add Comment</span>
                </div>
                <div class="context-menu-item" id="copyTextContext">
                    <span>üìã Copy Text</span>
                </div>
            </div>
            <div class="summary-panel" id="summaryPanel" style="display: none;">
                <div class="summary-header">
                    <h3>üìù AI Note-Taking Assistant</h3>
                    <div class="summary-header-right">
                        <div class="api-status" id="api-status">
                            <span class="status-indicator" id="status-indicator"></span>
                            <span id="status-text">Local Mode</span>
                        </div>
                        <button class="close-btn" id="close-summary-btn" title="Close Summary Panel">√ó</button>
                    </div>
                </div>
                
                <div class="summary-body">
                    <div class="input-section">
                        <textarea 
                            id="text-input" 
                            placeholder="Paste your text here..."
                            rows="6"
                        ></textarea>
                        <div class="input-info">
                            <span id="word-count">0 words</span>
                            <div class="length-controls">
                                <label for="summary-length">Length:</label>
                                <select id="summary-length">
                                    <option value="short">Short (50-100 words)</option>
                                    <option value="medium" selected>Medium (100-200 words)</option>
                                    <option value="long">Long (200-300 words)</option>
                                </select>
                            </div>
                            <button id="simplify-btn" class="simplify-btn">Simplify for Notes</button>
                        </div>
                    </div>
                    
                    <div class="output-section" id="output-section" style="display: none;">
                        <label>Simplified Notes:</label>
                        <div class="notes-output" id="notes-output"></div>
                        <div class="output-info">
                            <span id="notes-stats"></span>
                            <button id="copy-notes" class="copy-btn">Copy Notes</button>
                        </div>
                    </div>
                    
                    <div class="loading" id="loading" style="display: none;">
                        <div class="spinner"></div>
                        <span>Simplifying for notes...</span>
                    </div>
                </div>
            </div>
            
            <!-- Quiz Panel -->
            <div class="quiz-panel" id="quizPanel" style="display: none;">
                <div class="quiz-header">
                    <h3>üß† AI Comprehension Quiz</h3>
                    <div class="quiz-controls">
                        <div class="quiz-settings">
                            <label for="quiz-difficulty">Difficulty:</label>
                            <select id="quiz-difficulty">
                                <option value="easy">Easy</option>
                                <option value="medium" selected>Medium</option>
                                <option value="hard">Hard</option>
                            </select>
                            <label for="quiz-count">Questions:</label>
                            <select id="quiz-count">
                                <option value="5">5 Questions</option>
                                <option value="10" selected>10 Questions</option>
                                <option value="15">15 Questions</option>
                            </select>
                        </div>
                        <button id="close-quiz-btn" class="close-btn">&times;</button>
                    </div>
                </div>
                
                <div class="quiz-body">
                    <!-- Quiz Generation Section -->
                    <div class="quiz-generation-section" id="quizGenerationSection">
                        <div class="quiz-intro">
                            <p>Generate a personalized quiz based on the PDF content to test your comprehension!</p>
                            <button id="generate-quiz-btn" class="generate-quiz-btn">üéØ Generate Quiz</button>
                        </div>
                        
                        <div class="quiz-loading" id="quizLoading" style="display: none;">
                            <div class="spinner"></div>
                            <span>Generating quiz questions...</span>
                        </div>
                    </div>
                    
                    <!-- Quiz Questions Section -->
                    <div class="quiz-questions-section" id="quizQuestionsSection" style="display: none;">
                        <div class="quiz-progress">
                            <div class="progress-bar">
                                <div class="progress-fill" id="progressFill"></div>
                            </div>
                            <span id="question-counter">Question 1 of 10</span>
                        </div>
                        
                        <div class="question-container">
                            <div class="question-header">
                                <span class="question-type" id="questionType">Multiple Choice</span>
                                <span class="question-difficulty" id="questionDifficulty">Medium</span>
                            </div>
                            <h4 class="question-text" id="questionText">Loading question...</h4>
                            
                            <div class="question-options" id="questionOptions">
                                <!-- Options will be dynamically generated -->
                            </div>
                            
                            <div class="question-actions">
                                <button id="submit-answer-btn" class="submit-btn" disabled>Submit Answer</button>
                                <button id="next-question-btn" class="next-btn" style="display: none;">Next Question</button>
                            </div>
                        </div>
                    </div>
                    
                    <!-- Quiz Results Section -->
                    <div class="quiz-results-section" id="quizResultsSection" style="display: none;">
                        <div class="results-header">
                            <h3>üéâ Quiz Complete!</h3>
                            <div class="score-display">
                                <div class="score-circle">
                                    <span id="finalScore">0%</span>
                                </div>
                                <div class="score-details">
                                    <p id="scoreText">Great job!</p>
                                    <p id="scoreBreakdown">0 out of 0 questions correct</p>
                                </div>
                            </div>
                        </div>
                        
                        <div class="results-summary">
                            <div class="summary-stats">
                                <div class="stat-item">
                                    <span class="stat-label">Accuracy</span>
                                    <span class="stat-value" id="accuracyStat">0%</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Time Taken</span>
                                    <span class="stat-value" id="timeStat">0:00</span>
                                </div>
                                <div class="stat-item">
                                    <span class="stat-label">Difficulty</span>
                                    <span class="stat-value" id="difficultyStat">Medium</span>
                                </div>
                            </div>
                        </div>
                        
                        <div class="results-actions">
                            <button id="retake-quiz-btn" class="retake-btn">üîÑ Retake Quiz</button>
                            <button id="new-quiz-btn" class="new-quiz-btn">üéØ New Quiz</button>
                            <button id="review-answers-btn" class="review-btn">üìù Review Answers</button>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Print Dialog -->
            <div class="print-dialog" id="printDialog" style="display: none;">
                <div class="print-dialog-content">
                    <div class="print-header">
                        <h3>üñ®Ô∏è Print PDF</h3>
                        <button id="close-print-btn" class="close-btn">&times;</button>
                    </div>
                    
                    <div class="print-body">
                        <div class="print-simple">
                            <p>Click the button below to print all pages of the PDF.</p>
                            <div class="print-actions">
                                <button id="print-execute-btn" class="print-btn execute-btn">üñ®Ô∏è Print All Pages</button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Form Filling Dialog -->
            <div class="form-dialog" id="formDialog" style="display: none;">
                <div class="form-dialog-content">
                    <div class="form-header">
                        <h3>üìù Fill & Sign PDF</h3>
                        <button id="close-form-btn" class="close-btn">&times;</button>
                    </div>
                    
                    <div class="form-body">
                        <div class="form-tools">
                            <div class="tool-section">
                                <h4>Form Tools</h4>
                                <div class="tool-buttons">
                                    <button id="text-tool-btn" class="tool-btn active">üìù Text</button>
                                    <button id="signature-tool-btn" class="tool-btn">‚úçÔ∏è Signature</button>
                                    <button id="clear-tool-btn" class="tool-btn">üóëÔ∏è Clear All</button>
                                </div>
                            </div>
                            
                            <div class="tool-section">
                                <h4>Text Properties</h4>
                                <div class="text-properties" id="textProperties">
                                    <div class="property-group">
                                        <label for="fontSize">Font Size:</label>
                                        <select id="fontSize">
                                            <option value="12">12px</option>
                                            <option value="14" selected>14px</option>
                                            <option value="16">16px</option>
                                            <option value="18">18px</option>
                                            <option value="20">20px</option>
                                        </select>
                                    </div>
                                    
                                    <div class="property-group">
                                        <label for="textColor">Text Color:</label>
                                        <input type="color" id="textColor" value="#000000">
                                    </div>
                                    
                                    <div class="property-group">
                                        <label for="fontFamily">Font:</label>
                                        <select id="fontFamily">
                                            <option value="Arial" selected>Arial</option>
                                            <option value="Times New Roman">Times New Roman</option>
                                            <option value="Courier New">Courier New</option>
                                            <option value="Helvetica">Helvetica</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <div class="signature-properties" id="signatureProperties" style="display: none;">
                                    <div class="property-group">
                                        <label for="signatureColor">Signature Color:</label>
                                        <input type="color" id="signatureColor" value="#000000">
                                    </div>
                                    
                                    <div class="property-group">
                                        <label for="signatureWidth">Line Width:</label>
                                        <input type="range" id="signatureWidth" min="1" max="10" value="3">
                                    </div>
                                    
                                    <div class="property-group">
                                        <button id="clear-signature-btn" class="clear-btn">Clear Signature</button>
                                    </div>
                                </div>
                            </div>
                            
                            <div class="tool-section">
                                <h4>Actions</h4>
                                <div class="form-actions">
                                    <button id="download-form-btn" class="form-btn download-btn">üì• Download</button>
                                    <button id="reset-form-btn" class="form-btn reset-btn">üîÑ Reset</button>
                                </div>
                            </div>
                        </div>
                        
                        <div class="form-preview">
                            <div class="preview-header">
                                <h4>üìÑ PDF Preview</h4>
                                <div class="preview-controls">
                                    <span class="instruction">Click on the PDF to add text or draw signature</span>
                                </div>
                            </div>
                            <div class="form-canvas-container">
                                <canvas id="formCanvas"></canvas>
                                <div class="form-overlay" id="formOverlay"></div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
            <!-- Flashcard Dialog -->
            <div class="flashcard-dialog" id="flashcardDialog" style="display: none;">
                <div class="flashcard-dialog-content">
                    <div class="flashcard-header">
                        <h3>üé¥ AI Flashcards</h3>
                        <button id="close-flashcard-btn" class="close-btn">&times;</button>
                    </div>
                    
                    <div class="flashcard-body">
                        <!-- Generation Section -->
                        <div id="flashcardGenerationSection" class="flashcard-section">
                            <div class="generation-content">
                                <div class="generation-header">
                                    <h4>üìö Generate Flashcards</h4>
                                    <p>AI will extract key details from your PDF and create interactive flashcards</p>
                                </div>
                                
                                <div class="generation-settings">
                                    <div class="setting-group">
                                        <label for="flashcardCount">Number of Cards:</label>
                                        <select id="flashcardCount">
                                            <option value="10">10 Cards</option>
                                            <option value="15" selected>15 Cards</option>
                                            <option value="20">20 Cards</option>
                                            <option value="25">25 Cards</option>
                                        </select>
                                    </div>
                                    
                                    <div class="setting-group">
                                        <label for="flashcardDifficulty">Difficulty:</label>
                                        <select id="flashcardDifficulty">
                                            <option value="basic">Basic</option>
                                            <option value="intermediate" selected>Intermediate</option>
                                            <option value="advanced">Advanced</option>
                                        </select>
                                    </div>
                                </div>
                                
                                <button id="generate-flashcards-btn" class="generate-flashcards-btn">
                                    üéØ Generate Flashcards
                                </button>
                                
                                <div id="flashcardLoading" class="flashcard-loading" style="display: none;">
                                    <div class="loading-spinner"></div>
                                    <p>Generating flashcards from PDF content...</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Study Section -->
                        <div id="flashcardStudySection" class="flashcard-section" style="display: none;">
                            <div class="study-content">
                                <div class="study-header">
                                    <div class="study-progress">
                                        <div class="progress-bar">
                                            <div id="cardProgressFill" class="progress-fill"></div>
                                        </div>
                                        <span id="cardProgress">Card 1 of 15</span>
                                    </div>
                                    
                                    <div class="study-stats">
                                        <div class="stat-item">
                                            <span class="stat-label">‚úÖ Correct:</span>
                                            <span id="correctCount" class="stat-value">0</span>
                                        </div>
                                        <div class="stat-item">
                                            <span class="stat-label">‚ùå Incorrect:</span>
                                            <span id="incorrectCount" class="stat-value">0</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="flashcard-container">
                                    <div class="flashcard" id="currentCard">
                                        <div class="flashcard-inner">
                                            <div class="flashcard-front">
                                                <div class="card-content">
                                                    <div class="card-icon">‚ùì</div>
                                                    <div class="card-question" id="cardQuestion">Question will appear here</div>
                                                </div>
                                            </div>
                                            <div class="flashcard-back">
                                                <div class="card-content">
                                                    <div class="card-icon">üí°</div>
                                                    <div class="card-answer" id="cardAnswer">Answer will appear here</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="flashcard-actions">
                                    <button id="markCorrect-btn" class="action-btn correct-btn">
                                        ‚úÖ I Know This
                                    </button>
                                    <button id="markIncorrect-btn" class="action-btn incorrect-btn">
                                        ‚ùå I Don't Know
                                    </button>
                                </div>
                                
                                <div class="study-instructions">
                                    <p>üí° Click the card to flip and see the answer</p>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Results Section -->
                        <div id="flashcardResultsSection" class="flashcard-section" style="display: none;">
                            <div class="results-content">
                                <div class="results-header">
                                    <h4>üéâ Study Session Complete!</h4>
                                    <p>Great job on completing the flashcards</p>
                                </div>
                                
                                <div class="results-stats">
                                    <div class="final-score">
                                        <div class="score-circle">
                                            <span id="finalCorrectCount" class="score-number">0</span>
                                            <span class="score-label">Correct</span>
                                        </div>
                                        <div class="score-circle">
                                            <span id="finalIncorrectCount" class="score-number">0</span>
                                            <span class="score-label">Incorrect</span>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="results-actions">
                                    <button id="replay-incorrect-btn" class="action-btn replay-btn">
                                        üîÑ Review Incorrect Cards
                                    </button>
                                    <button id="new-flashcards-btn" class="action-btn new-btn">
                                        üÜï New Flashcard Set
                                    </button>
                                    <button id="close-flashcards-btn" class="action-btn close-btn">
                                        ‚úÖ Close
                                    </button>
                                </div>
                            </div>
                        </div>
                        
                        <!-- Review Section -->
                        <div id="flashcardReviewSection" class="flashcard-section" style="display: none;">
                            <div class="review-content">
                                <div class="review-header">
                                    <h4>üîÑ Review Incorrect Cards</h4>
                                    <p id="reviewProgress">Reviewing 1 of 3 incorrect cards</p>
                                </div>
                                
                                <div class="flashcard-container">
                                    <div class="flashcard" id="reviewCard">
                                        <div class="flashcard-inner">
                                            <div class="flashcard-front">
                                                <div class="card-content">
                                                    <div class="card-icon">‚ùì</div>
                                                    <div class="card-question" id="reviewQuestion">Question will appear here</div>
                                                </div>
                                            </div>
                                            <div class="flashcard-back">
                                                <div class="card-content">
                                                    <div class="card-icon">üí°</div>
                                                    <div class="card-answer" id="reviewAnswer">Answer will appear here</div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                                
                                <div class="flashcard-actions">
                                    <button id="reviewCorrect-btn" class="action-btn correct-btn">
                                        ‚úÖ I Know This Now
                                    </button>
                                    <button id="reviewIncorrect-btn" class="action-btn incorrect-btn">
                                        ‚ùå Still Don't Know
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
            
        </div>
    </div>
    
    <!-- Diagram Popup Modal -->
    <div id="diagramPopupModal" class="diagram-popup-modal">
        <div class="diagram-popup-content">
            <div class="diagram-popup-header">
                <h3>üìä Diagram View</h3>
                <button id="closeDiagramPopup" class="diagram-popup-close">&times;</button>
            </div>
            <div class="diagram-popup-body">
                <div id="diagramPopupCanvas" class="diagram-popup-canvas">
                    <!-- Diagram content will be rendered here -->
                </div>
            </div>
        </div>
    </div>
    
    <script src="config.js"></script>
    <script src="summarizer-button/note-taking-button.js"></script>
    <script src="script.js"></script>
</body>
</html>
